/* GreenOps AI Dashboard - Global Styles */

/* Directives Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fallback tokens if Tailwind color tokens are unavailable */
:root {
  --color-white: #ffffff;
  --color-black: #000000;
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #e5e5e5;
  --color-neutral-300: #d4d4d4;
  --color-neutral-400: #a3a3a3;
  --color-neutral-500: #737373;
  --color-neutral-600: #525252;
  --color-neutral-700: #404040;
  --color-neutral-800: #262626;
  --color-neutral-900: #171717;

  /* GreenOps AI Color Palette */
  --greenops-primary: #10B981;
  --greenops-secondary: #059669;
  --greenops-accent: #34D399;
  --greenops-warning: #F59E0B;
  --greenops-error: #EF4444;
  --greenops-success: #10B981;
  --greenops-info: #3B82F6;

  /* Theme Variables - Format HSL pour Tailwind */
  --background: 0 0% 100%;
  --foreground: 0 0% 9%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 9%;
  --primary: 158 64% 52%;
  --primary-foreground: 0 0% 100%;
  --secondary: 158 64% 42%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 45%;
  --accent: 158 64% 62%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 90%;
  --input: 0 0% 90%;
  --ring: 158 64% 52%;
  --radius: 0.5rem;
  --chart-1: 158 64% 52%;
  --chart-2: 158 64% 42%;
  --chart-3: 158 64% 62%;
  --chart-4: 45 93% 47%;
  --chart-5: 0 84% 60%;
}

.dark {
  --background: 0 0% 9%;
  --foreground: 0 0% 98%;
  --card: 0 0% 16%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 16%;
  --popover-foreground: 0 0% 98%;
  --muted: 0 0% 16%;
  --muted-foreground: 0 0% 64%;
  --border: 0 0% 25%;
  --input: 0 0% 25%;
}

/* Base styles */
* {
  border-color: hsl(var(--border));
  outline-color: hsl(var(--ring));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-feature-settings: "rlig" 1, "calt" 1;
}

/* Ensure buttons are visible - Critical fix */
button[data-slot="button"],
.button,
[role="button"] {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border: 1px solid hsl(var(--primary)) !important;
  border-radius: calc(var(--radius) - 2px) !important;
  padding: 0.5rem 1rem !important;
  font-weight: 500 !important;
  transition: all 0.2s ease-in-out !important;
  cursor: pointer !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 2.25rem !important;
}

button[data-slot="button"]:hover,
.button:hover,
[role="button"]:hover {
  background-color: hsl(var(--primary) / 0.9) !important;
}

button[data-slot="button"]:disabled,
.button:disabled,
[role="button"]:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Variant overrides */
button[data-slot="button"][data-variant="outline"],
.button.outline {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border)) !important;
}

button[data-slot="button"][data-variant="ghost"],
.button.ghost {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid transparent !important;
}

/* Ensure proper cursor for interactive elements */
[data-slot="button"],
[data-slot="link"],
[data-slot="menuitem"],
[data-slot="option"],
[data-slot="tab"],
[data-slot="menuitemcheckbox"],
[data-slot="menuitemradio"],
[data-slot="switch"],
[data-slot="slider"],
[data-slot="combobox"],
[data-slot="select"],
[data-slot="spinbutton"],
[data-slot="textbox"],
[data-slot="treeitem"],
[data-slot="gridcell"],
[data-slot="columnheader"],
[data-slot="rowheader"] {
  cursor: pointer;
}

/* === FIXES CRITIQUES POUR LE LAYOUT DASHBOARD === */

/* SidebarProvider - Wrapper principal */
[data-slot="sidebar-wrapper"] {
  min-height: 100vh !important;
  display: flex !important;
  width: 100% !important;
}

/* Sidebar Container - Positionnement fixe */
[data-slot="sidebar-container"] {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  height: 100vh !important;
  width: var(--sidebar-width) !important;
  z-index: 40 !important;
  transition: all 0.2s ease-linear !important;
}

/* Sidebar Inner - Contenu de la sidebar */
[data-slot="sidebar-inner"] {
  background: hsl(var(--sidebar-background, var(--background))) !important;
  border-right: 1px solid hsl(var(--border)) !important;
  height: 100% !important;
  width: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

/* SidebarInset - Zone de contenu principal */
[data-slot="sidebar-inset"] {
  margin-left: var(--sidebar-width) !important;
  width: calc(100% - var(--sidebar-width)) !important;
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  background: hsl(var(--background)) !important;
}

/* Header dans le SidebarInset */
[data-slot="sidebar-inset"] > header {
  position: sticky !important;
  top: 0 !important;
  z-index: 50 !important;
  height: 3.5rem !important;
  background: hsl(var(--background) / 0.95) !important;
  backdrop-filter: blur(8px) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
  display: flex !important;
  align-items: center !important;
}

/* Contenu principal sous le header */
[data-slot="sidebar-inset"] > div:not(header) {
  flex: 1 !important;
  padding: 1.5rem !important;
  overflow-x: hidden !important;
}

/* État collapsed de la sidebar */
.group\/sidebar-wrapper[data-state="collapsed"] [data-slot="sidebar-container"] {
  width: var(--sidebar-width-icon) !important;
}

.group\/sidebar-wrapper[data-state="collapsed"] [data-slot="sidebar-inset"] {
  margin-left: var(--sidebar-width-icon) !important;
  width: calc(100% - var(--sidebar-width-icon)) !important;
}

/* Mobile responsive */
@media (max-width: 768px) {
  [data-slot="sidebar-container"] {
    transform: translateX(-100%) !important;
  }
  
  [data-slot="sidebar-inset"] {
    margin-left: 0 !important;
    width: 100% !important;
  }
  
  /* Sidebar mobile ouverte */
  .group\/sidebar-wrapper[data-mobile="true"] [data-slot="sidebar-container"] {
    transform: translateX(0) !important;
  }
}

/* Fixes pour les problèmes de chevauchement et d'alignement */

/* Navigation bar fixes */
.navbar, 
[data-testid="navbar"],
[role="navigation"] {
  position: relative !important;
  z-index: 50 !important;
  overflow: visible !important;
}

/* Navigation et layout - Nettoyé pour ShadCN Sidebar */

/* Corrections spécifiques pour le header */
.site-header,
header[class*="bg-background"] {
  position: sticky !important;
  top: 0 !important;
  z-index: 50 !important;
  width: 100% !important;
  height: 3.5rem !important;
  display: flex !important;
  align-items: center !important;
  background: hsl(var(--background) / 0.95) !important;
  backdrop-filter: blur(8px) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

/* Contenu du header */
.site-header > div,
header[class*="bg-background"] > div {
  display: flex !important;
  align-items: center !important;
  width: 100% !important;
  padding: 0 1rem !important;
  gap: 0.5rem !important;
}

/* Dashboard content spacing - Uniforme pour toutes les pages */
.dashboard-page,
div[class*="space-y-6"],
div[class*="space-y-4"],
div[class*="space-y-8"] {
  padding: 0 !important;
  max-width: none !important;
}

/* Padding uniforme pour toutes les pages du dashboard */
[data-slot="sidebar-inset"] > div:not(header) > div,
[data-slot="sidebar-inset"] > div:not(header) > main,
[data-slot="sidebar-inset"] > div:not(header) > section {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
}

/* Réduction de l'espace entre header et contenu */
[data-slot="sidebar-inset"] > div:not(header) {
  flex: 1 !important;
  padding: 0 0.5rem 1.5rem 0.5rem !important;
  overflow-x: hidden !important;
}

/* Uniformisation des cartes du dashboard */
.dashboard-card-uniform {
  min-height: 350px !important;
  display: flex !important;
  flex-direction: column !important;
}

.dashboard-card-uniform .card-content {
  flex: 1 !important;
}

/* Grilles uniformes pour le dashboard */
div[class*="grid gap-6 lg:grid-cols-2"] > div {
  display: flex !important;
  flex-direction: column !important;
}

div[class*="grid gap-6 lg:grid-cols-2"] > div > * {
  flex: 1 !important;
}

/* Amélioration des cartes de fournisseurs */
.card[class*="h-full"] {
  min-height: 400px !important;
}

/* Espacement harmonisé pour les sections */
div[class*="space-y-6"] > div:first-child {
  margin-top: 0 !important;
}

/* Amélioration de l'espacement pour la page Fournisseurs Cloud */
div[class*="space-y-6"] {
  margin-bottom: 2rem !important;
}

/* Espacement amélioré entre les sections */
div[class*="space-y-4"] {
  margin-bottom: 1.5rem !important;
}

/* Amélioration de l'espacement des onglets */
div[class*="tabs"] {
  margin-top: 1.5rem !important;
  margin-bottom: 1.5rem !important;
}

/* Amélioration des hover effects */
div[class*="hover:bg-gray-50"] {
  transition: all 0.2s ease-in-out !important;
}

div[class*="hover:bg-gray-50"]:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

/* Card fixes */
.card,
.metric-card,
[data-testid*="card"],
div[class*="border rounded-lg"] {
  position: relative !important;
  background: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: calc(var(--radius) - 2px) !important;
  padding: 1.5rem !important;
  margin-bottom: 1rem !important;
  overflow: hidden !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
  color: hsl(var(--card-foreground)) !important;
}

/* Réinitialisation des anciennes règles - Remplacées par le système moderne */
.card {
  /* Les anciennes règles sont remplacées par .modern-card et .metric-card */
}

div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card:hover,
div[class*="grid gap-4 md:grid-cols-4"] .card:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* Espacement amélioré pour les cartes de fournisseurs */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .card-header {
  padding-bottom: 1.5rem !important;
}

div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .card-content {
  padding-top: 0.5rem !important;
}

/* Amélioration des cartes de métriques en haut - Harmonisation avec le dashboard */
div[class*="grid gap-4 md:grid-cols-4"] .card,
div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card {
  padding: 1.5rem !important;
  min-height: 160px !important;
  transition: all 0.2s ease-in-out !important;
}

/* Harmonisation avec le dashboard principal */
div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card {
  background: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: calc(var(--radius) - 2px) !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
}

/* Espacement interne des cartes de métriques - Harmonisation */
div[class*="grid gap-4 md:grid-cols-4"] .card .card-header,
div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card .card-header {
  padding: 0.75rem !important;
  margin-bottom: 0.5rem !important;
}

div[class*="grid gap-4 md:grid-cols-4"] .card .card-content,
div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card .card-content {
  padding: 0.75rem !important;
  margin: 0.25rem !important;
}

/* Espacement spécifique pour les cartes de métriques */
div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card .space-y-2 {
  margin-top: 0.5rem !important;
}

div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"] .card .mb-3 {
  margin-bottom: 0.75rem !important;
}

/* Espacement amélioré pour les éléments internes des cartes */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .space-y-3,
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .space-y-4 {
  margin-top: 1rem !important;
  padding: 0.5rem !important;
}

/* Espacement supplémentaire pour le contenu des cartes - Règles forcées */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .card-content,
.card-content,
div[class*="space-y-4"] {
  padding: 1rem !important;
  margin: 0.5rem !important;
}

/* Espacement des headers de cartes - Règles forcées */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .card-header,
.card-header {
  padding: 1rem !important;
  margin-bottom: 0.5rem !important;
}

/* Règles très spécifiques pour forcer l'espacement */
div[class*="pb-4"],
div[class*="space-y-3"],
div[class*="space-y-4"] {
  padding: 0.75rem !important;
  margin: 0.5rem !important;
}

/* Amélioration des boutons dans les cartes */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .flex.space-x-2 {
  margin-top: 1rem !important;
  padding-top: 0.75rem !important;
}

/* Espacement des badges et icônes */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .badge {
  margin-top: 0.75rem !important;
  padding: 0.5rem 0.75rem !important;
}

/* Amélioration de l'espacement des logos */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card .w-12.h-12 {
  margin-right: 1rem !important;
  margin-bottom: 0.5rem !important;
}

/* Espacement des textes et éléments */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card p,
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card span {
  margin: 0.25rem 0 !important;
  line-height: 1.5 !important;
}

/* Espacement des boutons */
div[class*="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"] .card button {
  margin: 0.5rem 0 !important;
  padding: 0.5rem 1rem !important;
}

/* ================================
   MODERN DESIGN SYSTEM - 2024
   ================================ */

/* Variables de design moderne - Desktop First */
:root {
  --card-padding: 2rem;
  --card-radius: 16px;
  --card-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.06), 0 1px 2px 0 rgba(0, 0, 0, 0.04);
  --card-shadow-hover: 0 8px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;
  --spacing-2xl: 4rem;
  --desktop-grid-gap: 2rem;
  --desktop-section-gap: 3rem;
}

/* Système de cartes moderne */
.modern-card {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  padding: var(--card-padding);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.modern-card:hover {
  box-shadow: var(--card-shadow-hover);
  transform: translateY(-1px);
}

/* Cartes de métriques modernes - Desktop First */
.metric-card {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  padding: var(--card-padding);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  min-height: 180px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.metric-card:hover {
  box-shadow: var(--card-shadow-hover);
  transform: translateY(-2px);
}

/* Micro animations and utilities */
.fade-in {
  animation: fade-in 300ms ease-out both;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.hover-raise {
  transition: transform 200ms ease, box-shadow 200ms ease;
}

.hover-raise:hover {
  transform: translateY(-2px);
  box-shadow: var(--card-shadow-hover);
}

.accent-bar::before {
  content: "";
  position: absolute;
  inset-inline-start: 0;
  top: 0;
  height: 3px;
  width: 100%;
  background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--accent)) 100%);
  opacity: 0.6;
}

/* Grille moderne pour dashboard - Desktop First */
.modern-grid {
  display: grid;
  gap: var(--desktop-grid-gap);
  margin-bottom: var(--desktop-section-gap);
}

.modern-grid-metrics {
  grid-template-columns: repeat(4, 1fr);
  gap: var(--desktop-grid-gap);
}

.modern-grid-cards {
  grid-template-columns: repeat(3, 1fr);
  gap: var(--desktop-grid-gap);
}

.modern-grid-charts {
  grid-template-columns: repeat(2, 1fr);
  gap: var(--desktop-grid-gap);
}

/* Layout spécial pour dashboard principal */
.dashboard-main-layout {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--desktop-grid-gap);
}

.dashboard-sidebar-layout {
  display: flex;
  flex-direction: column;
  gap: var(--desktop-grid-gap);
}

/* Optimisation Desktop - Utilisation maximale de l'espace */
.desktop-optimized {
  max-width: none;
  width: 100%;
}

/* Cartes plus hautes pour desktop */
.desktop-card {
  min-height: 350px;
}

/* Typographie optimisée pour desktop */
.desktop-title {
  font-size: 2.5rem;
  font-weight: 800;
  letter-spacing: -0.03em;
}

.desktop-subtitle {
  font-size: 1.125rem;
  line-height: 1.6;
}

/* Espacement généreux pour desktop */
.desktop-spacing {
  padding: var(--spacing-2xl);
  margin: var(--spacing-xl) 0;
}

/* Actions rapides optimisées pour desktop */
.desktop-actions {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: var(--spacing-lg);
}

/* Cartes de fournisseurs optimisées pour desktop - 3 par ligne */
.providers-grid-3-cols {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
}

@media (max-width: 1200px) {
  .providers-grid-3-cols {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .providers-grid-3-cols {
    grid-template-columns: 1fr;
  }
}

/* ================================
   DASHBOARD LAYOUT OPTIMISÉ
   ================================ */

/* Container principal du dashboard */
.dashboard-container {
  padding: 0;
  margin: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}





/* Animation pour la redirection auth */
@keyframes success-scale {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.auth-success-icon {
  animation: success-scale 0.6s ease-out forwards;
}

/* Header compact */
.dashboard-header {
  padding: 1.25rem 2rem;
  border-bottom: 1px solid hsl(var(--border));
  background: hsl(var(--background));
  margin-bottom: 0;
}

/* Layout principal en 2 colonnes */
.dashboard-layout {
  display: grid;
  grid-template-columns: 1fr 350px;
  gap: 2rem;
  padding: 2rem;
  flex: 1;
  align-items: start;
}

/* Colonne principale gauche */
.dashboard-main-column {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

/* Grille des métriques compacte */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
}

/* Grille des graphiques */
.charts-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
}

/* Section fournisseurs élargie */
.providers-section {
  width: 100%;
}

/* Sidebar droite */
.dashboard-sidebar {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  position: sticky;
  top: 2rem;
  max-height: calc(100vh - 4rem);
  overflow-y: auto;
}

/* Sections de la sidebar */
.recommendations-section,
.alerts-section,
.actions-section {
  flex-shrink: 0;
}

/* Responsive pour écrans moyens */
@media (max-width: 1400px) {
  .dashboard-layout {
    grid-template-columns: 1fr 320px;
    gap: 1.5rem;
  }
  
  .metrics-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
}

/* Responsive pour tablettes */
@media (max-width: 1024px) {
  .dashboard-layout {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .dashboard-sidebar {
    position: static;
    max-height: none;
  }
  
  .charts-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
}

/* Responsive pour mobiles */
@media (max-width: 768px) {
  .dashboard-header {
    padding: 1rem;
  }
  
  .dashboard-layout {
    padding: 1rem;
  }
  
  .metrics-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

/* Utilitaires pour le texte */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Optimisations des cartes en sidebar */
.dashboard-sidebar .modern-card {
  padding: 1rem;
}

.dashboard-sidebar .modern-card .card-header {
  padding: 0 0 0.75rem 0;
}

.dashboard-sidebar .modern-card .card-content {
  padding: 0;
}

/* Headers modernes */
.modern-header {
  margin-bottom: var(--spacing-xl);
  padding-bottom: var(--spacing-lg);
  border-bottom: 1px solid hsl(var(--border));
}

.modern-title {
  font-size: 2.25rem;
  font-weight: 700;
  letter-spacing: -0.025em;
  color: hsl(var(--foreground));
  margin-bottom: var(--spacing-sm);
}

.modern-subtitle {
  font-size: 1rem;
  color: hsl(var(--muted-foreground));
  line-height: 1.5;
}

/* Espacement moderne et cohérent */
.modern-spacing-xs { margin-bottom: var(--spacing-xs); }
.modern-spacing-sm { margin-bottom: var(--spacing-sm); }
.modern-spacing-md { margin-bottom: var(--spacing-md); }
.modern-spacing-lg { margin-bottom: var(--spacing-lg); }
.modern-spacing-xl { margin-bottom: var(--spacing-xl); }
.modern-spacing-2xl { margin-bottom: var(--spacing-2xl); }

/* Desktop First - Responsive uniquement si nécessaire */
@media (max-width: 1400px) {
  .modern-grid-cards {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 1200px) {
  :root {
    --desktop-grid-gap: 1.5rem;
    --desktop-section-gap: 2.5rem;
  }
  
  .dashboard-main-layout {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 992px) {
  .modern-grid-metrics {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .modern-grid-cards {
    grid-template-columns: 1fr;
  }
}

/* Mobile uniquement en dernier recours */
@media (max-width: 768px) {
  :root {
    --card-padding: 1.5rem;
    --desktop-grid-gap: 1rem;
    --desktop-section-gap: 1.5rem;
  }
  
  .modern-grid-metrics {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .metric-card {
    min-height: 140px;
  }
}

@media (max-width: 480px) {
  .modern-grid-metrics {
    grid-template-columns: 1fr;
  }
}

/* Cartes spécifiques du dashboard */
div[class*="p-6 border rounded-lg bg-gradient-to-br"] {
  background: linear-gradient(135deg, hsl(var(--primary) / 0.05) 0%, hsl(var(--secondary) / 0.05) 100%) !important;
  border: 1px solid hsl(var(--border)) !important;
}

/* Prevent text overflow in cards */
.card-content,
.metric-value {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

/* Grid layout fixes */
.grid-container,
.metrics-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
  gap: 1.5rem !important;
  margin: 1.5rem 0 !important;
}

/* Cards uniformes pour les fournisseurs cloud */
.providers-grid-uniform {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.5rem;
}

@media (min-width: 1024px) {
  .providers-grid-uniform {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Cards avec hauteur uniforme et boutons alignés */
.provider-card-uniform {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 420px;
}

.provider-card-content {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.provider-card-actions {
  margin-top: auto;
  padding-top: 1rem;
}

/* Boutons uniformes */
.provider-button {
  height: 2.5rem !important;
  min-height: 2.5rem !important;
}

/* Responsive fixes pour ShadCN Sidebar */
@media (max-width: 768px) {
  .grid-container,
  div[class*="grid gap-4 md:grid-cols-2 lg:grid-cols-4"],
  div[class*="grid gap-6 lg:grid-cols-3"] {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  /* Réduction de l'espace sur mobile */
  [data-slot="sidebar-inset"] > div:not(header) {
    padding: 0 0.25rem 1rem 0.25rem !important;
  }
  
  /* Padding uniforme mobile pour toutes les pages */
  [data-slot="sidebar-inset"] > div:not(header) > div,
  [data-slot="sidebar-inset"] > div:not(header) > main,
  [data-slot="sidebar-inset"] > div:not(header) > section {
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
  }
}

/* Fix for overlapping elements */
.overlap-fix {
  position: relative !important;
  z-index: 1 !important;
}

/* Z-index hierarchy pour éviter les chevauchements */
[data-slot="sidebar-container"],
[data-slot="sidebar-inner"] {
  z-index: 40 !important;
}

[data-slot="sidebar-inset"] > header,
header[class*="sticky"] {
  z-index: 50 !important;
}

[data-radix-popper-content-wrapper] {
  z-index: 60 !important;
}

[data-testid="dropdown-menu"],
[data-radix-dropdown-menu-content] {
  z-index: 70 !important;
}

/* Assurer que les éléments interactifs sont cliquables */
button, 
[role="button"], 
a, 
[role="link"],
input,
select,
textarea {
  position: relative !important;
  z-index: 2 !important;
}

/* Ensure proper spacing between elements */
.spacing-fix > * + * {
  margin-top: 1rem !important;
}

/* Fix for navigation items */
.nav-item,
.sidebar-item {
  display: flex !important;
  align-items: center !important;
  padding: 0.75rem 1rem !important;
  margin: 0.25rem 0 !important;
  border-radius: var(--radius) !important;
  text-decoration: none !important;
  color: var(--foreground) !important;
  transition: background-color 0.2s ease !important;
}

.nav-item:hover,
.sidebar-item:hover {
  background: var(--muted) !important;
}

.nav-item.active,
.sidebar-item.active {
  background: var(--primary) !important;
  color: var(--primary-foreground) !important;
}
